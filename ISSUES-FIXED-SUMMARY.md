# ุฎูุงุตู ูุดฺฉูุงุช ู ุฑุงูโุญูโูุง

## ุชุงุฑุฎ: 11 ุงฺฉุชุจุฑ 2025

## ูุดฺฉูุงุช ุดูุงุณุง ุดุฏู:

### 1. ุตูุญู ูุฑูุด (Sales) - `/dashboard/sales`
**ูุดฺฉู:** ูุณุช ูุฑูุดโูุง ููุงุด ุฏุงุฏู ููโุดูุฏ

**ุนูุช:**
- ุตูุญู ุงุฒ API `/api/deals` ุงุณุชูุงุฏู ูโฺฉูุฏ ุงูุง ุจุงุฏ ุงุฒ `/api/sales` ุงุณุชูุงุฏู ฺฉูุฏ
- ุฌุฏูู `deals` ุฏุฑ ุฏุชุงุจุณ ุฎุงู ุงุณุช (0 ุฑุฏู)
- ุฌุฏูู `sales` ููุท 1 ุฑุฏู ุฏุงุฑุฏ

**ุฑุงูโุญู:**
1. ูุงู SQL ุงุฌุงุฏ ุดุฏ: `fix-missing-data.sql` ุจุฑุง ุงูุฒูุฏู ุฏุงุฏูโูุง ููููู
2. 5 ูุนุงููู ููููู ุจู ุฌุฏูู `deals` ุงุถุงูู ูโุดูุฏ
3. ุตูุญู sales ุงุฒ API ุตุญุญ ุงุณุชูุงุฏู ูโฺฉูุฏ

### 2. ุตูุญู ุจุงุฒุฎูุฑุฏ (Feedback) - `/dashboard/feedback`
**ูุดฺฉู:** ูุณุช ุจุงุฒุฎูุฑุฏูุง ุฎุงู ุงุณุช

**ุนูุช:**
- ุฌุฏูู `feedback` ุฏุฑ ุฏุชุงุจุณ ุฎุงู ุงุณุช (0 ุฑุฏู)

**ุฑุงูโุญู:**
1. 5 ุจุงุฒุฎูุฑุฏ ููููู ุจู ุฌุฏูู `feedback` ุงุถุงูู ูโุดูุฏ ุดุงูู:
   - ูพุดููุงุฏุงุช
   - ุดฺฉุงุงุช
   - ุชุดฺฉุฑุงุช
   - ูุธุฑุณูุฌ ุฑุถุงุช

### 3. ุตูุญู ููฺฉุงุฑุงู (Coworkers) - `/dashboard/coworkers`
**ูุดฺฉู:** ูุณุช ููฺฉุงุฑุงู ููุงุด ุฏุงุฏู ููโุดูุฏ

**ูุถุนุช:**
- ุฌุฏูู `users` 5 ฺฉุงุฑุจุฑ ุฏุงุฑุฏ
- API `/api/coworkers` ููุฌูุฏ ุงุณุช
- ุงุญุชูุงูุงู ูุดฺฉู ุฏุฑ ุตูุญู ูุฑุงูุชโุงูุฏ ุงุณุช

**ุจุฑุฑุณ ูุงุฒู:**
- ุจุฑุฑุณ ฺฉูุณูู ูุฑูุฑฺฏุฑ ุจุฑุง ุฎุทุงูุง
- ุจุฑุฑุณ ุฏุฑุฎูุงุณุช API ุฏุฑ Network tab

### 4. ุตูุญู ฺุช (Chat) - `/dashboard/chat`
**ูุดฺฉู:** ูุณุช ฺุชโูุง ููุงุด ุฏุงุฏู ููโุดูุฏ

**ุนูุช:**
- API `/api/chat/messages` ูุฌูุฏ ูุฏุงุดุช
- ุฌุฏูู `messages` ูุฌูุฏ ูุฏุงุฑุฏ (ููุท `chat_messages` ุจุง 2 ุฑุฏู)

**ุฑุงูโุญู:**
1. โ API ุฌุฏุฏ ุงุฌุงุฏ ุดุฏ: `app/api/chat/messages/route.ts`
2. API ุงุฒ ุฌุฏูู `chat_messages` ุงุณุชูุงุฏู ูโฺฉูุฏ
3. ุดุงูู ุฏู endpoint:
   - GET: ุฏุฑุงูุช ูพุงูโูุง ุจู ุฏู ฺฉุงุฑุจุฑ
   - POST: ุงุฑุณุงู ูพุงู ุฌุฏุฏ

## ูุงูโูุง ุงุฌุงุฏ ุดุฏู:

### 1. `fix-missing-data.sql`
- ุงูุฒูุฏู 5 ูุนุงููู ููููู ุจู ุฌุฏูู `deals`
- ุงูุฒูุฏู 5 ุจุงุฒุฎูุฑุฏ ููููู ุจู ุฌุฏูู `feedback`
- ฺฉูุฆุฑ ุชุฃุฏ ุจุฑุง ุจุฑุฑุณ ุชุนุฏุงุฏ ุฑฺฉูุฑุฏูุง

### 2. `app/api/chat/messages/route.ts`
- API ฺฉุงูู ุจุฑุง ูุฏุฑุช ูพุงูโูุง
- GET: ุฏุฑุงูุช ูพุงูโูุง ุจู ุฏู ฺฉุงุฑุจุฑ
- POST: ุงุฑุณุงู ูพุงู ุฌุฏุฏ
- ุงุญุฑุงุฒ ููุช ฺฉุงูู
- ูุฏุฑุช ุฎุทุง

### 3. `check-tables.js`
- ุงุณฺฉุฑูพุช Node.js ุจุฑุง ุจุฑุฑุณ ุณุงุฎุชุงุฑ ุฏุชุงุจุณ
- ููุงุด ุชุนุฏุงุฏ ุฑฺฉูุฑุฏูุง ุฏุฑ ูุฑ ุฌุฏูู
- ุจุฑุฑุณ ุฌุฏุงูู ุฎุงุต (deals, feedback, users, messages)

## ุฏุณุชูุฑุงุช ุงุฌุฑุง:

### 1. ุงุฌุฑุง SQL ุจุฑุง ุงูุฒูุฏู ุฏุงุฏูโูุง ููููู:
```bash
# ุฏุฑ MySQL/MariaDB
mysql -u root -p crm_system < fix-missing-data.sql

# ุง ุฏุฑ phpMyAdmin
# ูุงู fix-missing-data.sql ุฑุง ุจุงุฒ ฺฉุฑุฏู ู ุงุฌุฑุง ฺฉูุฏ
```

### 2. ุจุฑุฑุณ ุฏุชุงุจุณ:
```bash
node check-tables.js
```

### 3. ุฑุณุชุงุฑุช ุณุฑูุฑ Next.js:
```bash
npm run dev
```

## ุจุฑุฑุณ ููุง:

ุจุนุฏ ุงุฒ ุงุฌุฑุง SQLุ ุงู ุตูุญุงุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ:

1. โ http://localhost:3000/dashboard/sales - ุจุงุฏ 5 ูุนุงููู ููุงุด ุฏูุฏ
2. โ http://localhost:3000/dashboard/feedback - ุจุงุฏ 5 ุจุงุฒุฎูุฑุฏ ููุงุด ุฏูุฏ
3. โ๏ธ http://localhost:3000/dashboard/coworkers - ุจุงุฏ 5 ฺฉุงุฑุจุฑ ููุงุด ุฏูุฏ (ูุงุฒ ุจู ุจุฑุฑุณ ุจุดุชุฑ)
4. โ http://localhost:3000/dashboard/chat - ุจุงุฏ ูุณุช ฺฉุงุฑุจุฑุงู ู ูพุงูโูุง ุฑุง ููุงุด ุฏูุฏ

## ุณุงุฎุชุงุฑ ุฌุฏุงูู ุฏุชุงุจุณ:

### ุฌุฏุงูู ููุฌูุฏ ุจุง ุฏุงุฏู:
- โ `activities`: 9 ุฑุฏู
- โ `calendar_events`: 6 ุฑุฏู
- โ `chat_messages`: 2 ุฑุฏู
- โ `contacts`: 16 ุฑุฏู
- โ `customers`: 59 ุฑุฏู
- โ `products`: 8 ุฑุฏู
- โ `sales`: 1 ุฑุฏู
- โ `sale_items`: 9 ุฑุฏู
- โ `users`: 5 ฺฉุงุฑุจุฑ
- โ `tasks`: 2 ุฑุฏู

### ุฌุฏุงูู ุฎุงู (ูุจู ุงุฒ ุงุฌุฑุง SQL):
- โ `deals`: 0 ุฑุฏู โ ุจุนุฏ ุงุฒ SQL: 5 ุฑุฏู
- โ `feedback`: 0 ุฑุฏู โ ุจุนุฏ ุงุฒ SQL: 5 ุฑุฏู

## ูฺฉุงุช ููู:

1. **Sales vs Deals**: ุณุณุชู ูู ุฌุฏูู `sales` ู ูู `deals` ุฏุงุฑุฏ. ุตูุญู sales ุจุงุฏ ูุดุฎุต ฺฉูุฏ ฺฉุฏุงู ุฑุง ูโุฎูุงูุฏ ููุงุด ุฏูุฏ.

2. **Chat Messages**: ุฌุฏูู `messages` ูุฌูุฏ ูุฏุงุฑุฏุ ููุท `chat_messages` ููุฌูุฏ ุงุณุช. API ุฌุฏุฏ ุงุฒ `chat_messages` ุงุณุชูุงุฏู ูโฺฉูุฏ.

3. **Coworkers**: API ููุฌูุฏ ุงุณุช ุงูุง ุตูุญู ููฺฉู ุงุณุช ูุดฺฉู ุฏุงุดุชู ุจุงุดุฏ. ูุงุฒ ุจู ุจุฑุฑุณ ฺฉูุณูู ูุฑูุฑฺฏุฑ.

4. **Authentication**: ููู APIูุง ุงุฒ `getAuthUser` ุง `getUserFromToken` ุจุฑุง ุงุญุฑุงุฒ ููุช ุงุณุชูุงุฏู ูโฺฉููุฏ.

## ูุฑุงุญู ุจุนุฏ:

1. โ ุงุฌุฑุง `fix-missing-data.sql`
2. โ ุชุณุช ุตูุญุงุช sales ู feedback
3. โ๏ธ ุจุฑุฑุณ ุตูุญู coworkers ู ุฑูุน ูุดฺฉู ุงุญุชูุงู
4. โ ุชุณุช ฺุช ุจุง ุงุฑุณุงู ูพุงู ุฌุฏุฏ
5. ๐ ุงูุฒูุฏู ุฏุงุฏูโูุง ูุงูุน ุจู ุณุณุชู

## ูพุดุชุจุงู:

ุงฺฏุฑ ูุดฺฉู ุจุงู ูุงูุฏ:
1. ฺฉูุณูู ูุฑูุฑฺฏุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ (F12)
2. Network tab ุฑุง ุจุฑุง ุจุฑุฑุณ ุฏุฑุฎูุงุณุชโูุง API ฺฺฉ ฺฉูุฏ
3. ูุงฺฏโูุง ุณุฑูุฑ Next.js ุฑุง ุจุฑุฑุณ ฺฉูุฏ
4. ุงุณฺฉุฑูพุช `check-tables.js` ุฑุง ุงุฌุฑุง ฺฉูุฏ
