# ุตูุญู ูุงูุชูุฑูฺฏ ูุฑูุด - ฺฏุฒุงุฑุด ฺฉุงูู

## ุชุงุฑุฎ: 1403/07/26

---

## โ ุขูฺู ุณุงุฎุชู ุดุฏ:

### 1. API ูุงูุชูุฑูฺฏ
**ูุงู:** `app/api/tenant/monitoring/route.ts`

**ูุงุจูุชโูุง:**
- โ ูุฑูุด ูุงูุงูู (12 ูุงู ุงุฎุฑ)
- โ ูุฑูุด ููุชฺฏ (8 ููุชู ุงุฎุฑ)
- โ ูุถุนุช ูพุฑุฏุงุฎุช (paid, pending, partial, refunded)
- โ ุจุฑุชุฑู ูุดุชุฑุงู (10 ูุดุชุฑ ุจุฑุชุฑ ุจุฑ ุงุณุงุณ ุฏุฑุขูุฏ)
- โ ุฑุถุงุช ูุดุชุฑุงู (ูุงูฺฏูุ ุฑุงุถุ ูุงุฑุงุถ)
- โ ุจุงุฒุฎูุฑุฏูุง (ุชูุฒุน ุงูุชุงุฒุงุช)
- โ ูุฑูุดูุฏฺฏุงู ุจุฑุชุฑ (5 ูุฑูุดูุฏู ุจุฑุชุฑ)
- โ ุขูุงุฑ ฺฉู (ฺฉู ูุฑูุดุ ุฏุฑุขูุฏุ ูุดุชุฑุงูุ ูุฑุฎ ูพุฑุฏุงุฎุช)

**ุฏุงุฏูโูุง ุงุฒ ุฏุชุงุจุณ:**
```sql
- ุฌุฏูู sales: ูุฑูุดโูุง ู ุฏุฑุขูุฏ
- ุฌุฏูู customers: ูุดุชุฑุงู ู ุฑุถุงุช
- ุฌุฏูู feedback: ุจุงุฒุฎูุฑุฏูุง
```

---

### 2. ุตูุญู ูุงูุชูุฑูฺฏ
**ูุงู:** `app/[tenant_key]/dashboard/system-monitoring/page.tsx`

**ูฺฺฏโูุง ุฑุงุจุท ฺฉุงุฑุจุฑ:**

#### ๐ ฺฉุงุฑุชโูุง ุขูุงุฑ (4 ฺฉุงุฑุช):
1. **ฺฉู ุฏุฑุขูุฏ** - ุจุง ฺฏุฑุงุฏุงูุช ุณุจุฒ
   - ููุงุด ฺฉู ุฏุฑุขูุฏ
   - ุชุนุฏุงุฏ ฺฉู ูุฑูุดโูุง

2. **ุฏุฑุขูุฏ ูุงู ุฌุงุฑ** - ุจุง ฺฏุฑุงุฏุงูุช ุขุจ
   - ุฏุฑุขูุฏ 30 ุฑูุฒ ุงุฎุฑ
   - ุชุนุฏุงุฏ ูุฑูุดโูุง ูุงู ุฌุงุฑ

3. **ฺฉู ูุดุชุฑุงู** - ุจุง ฺฏุฑุงุฏุงูุช ุจููุด
   - ุชุนุฏุงุฏ ฺฉู ูุดุชุฑุงู
   - ุฏุฑุตุฏ ุฑุถุงุช

4. **ูุฑุฎ ูพุฑุฏุงุฎุช** - ุจุง ฺฏุฑุงุฏุงูุช ุฒุฑุฏ
   - ุฏุฑุตุฏ ูุฑูุดโูุง ูพุฑุฏุงุฎุช ุดุฏู
   - ุชุนุฏุงุฏ ูพุฑุฏุงุฎุช ุดุฏู ุงุฒ ฺฉู

#### ๐ ูููุฏุงุฑูุง (5 ุชุจ):

##### ุชุจ 1: ูุฑูุด
- **ูููุฏุงุฑ Area Chart** - ุฑููุฏ ูุฑูุด ู ุฏุฑุขูุฏ
  - ูุงุจูุช ุชุบุฑ ุจู ููุงุด ููุชฺฏ ู ูุงูุงูู
  - ุฏู ูุญูุฑ Y ุจุฑุง ูุฑูุด ู ุฏุฑุขูุฏ
  - ฺฏุฑุงุฏุงูุช ุฒุจุง ุจุฑุง ูููุฏุงุฑ

- **ูููุฏุงุฑ Pie Chart** - ูุถุนุช ูพุฑุฏุงุฎุช
  - ุชูุฒุน ูุฑูุดโูุง ุจุฑ ุงุณุงุณ ูุถุนุช ูพุฑุฏุงุฎุช
  - ุฑูฺฏโูุง ูุชูุงุฒ ุจุฑุง ูุฑ ูุถุนุช

##### ุชุจ 2: ูุดุชุฑุงู
- **ูููุฏุงุฑ Bar Chart ุงูู** - ุจุฑุชุฑู ูุดุชุฑุงู
  - 10 ูุดุชุฑ ุจุฑุชุฑ ุจุฑ ุงุณุงุณ ุฏุฑุขูุฏ
  - ููุงุด ุชุนุฏุงุฏ ูุฑูุด ู ุฏุฑุขูุฏ
  - ูุงู ูุดุชุฑุงู ุฏุฑ ูุญูุฑ Y

##### ุชุจ 3: ุฑุถุงุช
- **3 ฺฉุงุฑุช ุขูุงุฑ:**
  1. ูุดุชุฑุงู ุฑุงุถ (ุณุจุฒ)
  2. ูุงูฺฏู ุฑุถุงุช ุจุง ุณุชุงุฑูโูุง (ุฒุฑุฏ)
  3. ูุงุฒ ุจู ุจูุจูุฏ (ูุฑูุฒ)

##### ุชุจ 4: ุจุงุฒุฎูุฑุฏ
- **ูููุฏุงุฑ Bar Chart** - ุชูุฒุน ุจุงุฒุฎูุฑุฏูุง
  - ููุงุด ุชุนุฏุงุฏ ุจุงุฒุฎูุฑุฏูุง ุจุฑ ุงุณุงุณ ุงูุชุงุฒ
  - ุฑูฺฏ ุจููุด

##### ุชุจ 5: ูุฑูุดูุฏฺฏุงู
- **ูููุฏุงุฑ Bar Chart** - ุนููฺฉุฑุฏ ูุฑูุดูุฏฺฏุงู
  - 5 ูุฑูุดูุฏู ุจุฑุชุฑ
  - ููุงุด ุชุนุฏุงุฏ ูุฑูุด ู ุฏุฑุขูุฏ
  - ุฏู ูุญูุฑ Y

---

## ๐จ ุทุฑุงุญ ู ุฑุงุจุท ฺฉุงุฑุจุฑ:

### ุฑูฺฏโุจูุฏ:
- **ุณุจุฒ:** ุฏุฑุขูุฏุ ููููุชุ ุฑุถุงุช
- **ุขุจ:** ูุฑูุดุ ุงุทูุงุนุงุช
- **ุจููุด:** ูุดุชุฑุงู
- **ุฒุฑุฏ/ูุงุฑูุฌ:** ูุดุฏุงุฑุ ูุงูฺฏู
- **ูุฑูุฒ:** ุฎุทุฑุ ูุงุฒ ุจู ุจูุจูุฏ

### ุงููุดูโูุง:
- โ Fade-in ุจุฑุง ฺฉู ุตูุญู
- โ Spin ุจุฑุง ุฏฺฉูู ุจุฑูุฒุฑุณุงู
- โ Hover effects ุจุฑุง ฺฉุงุฑุชโูุง
- โ Smooth transitions

### ูููุช:
- โ ูููุช Vazir ุจุฑุง ุชูุงู ูุชูโูุง ูุงุฑุณ
- โ ุงุนุฏุงุฏ ูุงุฑุณ ุจุง `toLocaleString('fa-IR')`

### Responsive:
- โ Grid responsive ุจุฑุง ฺฉุงุฑุชโูุง
- โ ูููุฏุงุฑูุง ุจุง ResponsiveContainer
- โ ุชุจโูุง ุจุฑุง ููุจุงู

---

## ๐ ูููุฏุงุฑูุง (Recharts):

### ุงุณุชูุงุฏู ุดุฏู:
1. **AreaChart** - ุฑููุฏ ูุฑูุด
2. **BarChart** - ููุงุณูโูุง
3. **PieChart** - ุชูุฒุน
4. **LineChart** - ุฑููุฏูุง

### ูฺฺฏโูุง:
- โ CartesianGrid ุจุฑุง ุดุจฺฉู
- โ Tooltip ุจุฑุง ููุงุด ุฌุฒุฆุงุช
- โ Legend ุจุฑุง ุฑุงูููุง
- โ ุฏู ูุญูุฑ Y ุจุฑุง ุฏุงุฏูโูุง ูุฎุชูู
- โ ฺฏุฑุงุฏุงูุช ุจุฑุง ุฒุจุง

---

## ๐ง ูุงุจูุชโูุง ุงุถุงู:

### 1. ูุฑูุช ุงุนุฏุงุฏ:
```typescript
formatCurrency(value)
- ููุงุฑุฏ: 1,000,000,000+
- ูููู: 1,000,000+
- ูุฒุงุฑ: 1,000+
```

### 2. ุชุจุฏู ุชุงุฑุฎ:
```typescript
formatMonth(monthStr)
- ุชุจุฏู ุชุงุฑุฎ ููุงุฏ ุจู ุดูุณ
- ููุงุด ูุงู ูุงู ูุงุฑุณ
```

### 3. ุฏฺฉูู ุจุฑูุฒุฑุณุงู:
- โ Refresh icon ุจุง ุงููุดู
- โ Disable ุฏุฑ ุญู loading
- โ Toast notification ุจุฑุง ุฎุทุงูุง

---

## ๐ ูุญูู ุงุณุชูุงุฏู:

### 1. ุฏุณุชุฑุณ:
```
http://localhost:3000/rabin/dashboard/system-monitoring
```

### 2. ูุงุฒููุฏโูุง:
- โ Authentication (ุจุงุฏ ูุงฺฏู ุจุงุดุฏ)
- โ Tenant key (rabin)
- โ ุฏุงุฏู ุฏุฑ ุฏุชุงุจุณ

### 3. ุนููฺฉุฑุฏ:
1. ุตูุญู ููุฏ ูโุดูุฏ
2. API ูุฑุงุฎูุงู ูโุดูุฏ
3. ุฏุงุฏูโูุง ุงุฒ ุฏุชุงุจุณ ุฎูุงูุฏู ูโุดููุฏ
4. ูููุฏุงุฑูุง ุฑุณู ูโุดููุฏ
5. ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ุจู ุชุจโูุง ุฌุงุจุฌุง ุดูุฏ
6. ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ุจู ููุงุด ููุชฺฏ/ูุงูุงูู ุชุบุฑ ุฏูุฏ

---

## ๐ฆ ูุงุจุณุชฺฏโูุง:

### ูุตุจ ุดุฏู:
- โ recharts@2.15.4
- โ moment-jalaali
- โ lucide-react

### ุงุณุชูุงุฏู ุดุฏู:
```typescript
import { LineChart, BarChart, PieChart, AreaChart } from 'recharts';
import moment from 'moment-jalaali';
import { TrendingUp, DollarSign, Users, ... } from 'lucide-react';
```

---

## ๐ฏ ูฺฉุงุช ููู:

### 1. ุนููฺฉุฑุฏ:
- โ Query ูุง ุจููู ุจุง GROUP BY
- โ ูุญุฏูุฏุช ุชุนุฏุงุฏ ูุชุงุฌ (LIMIT)
- โ ุงุณุชูุงุฏู ุงุฒ index ูุง (tenant_key)

### 2. ุงููุช:
- โ ุจุฑุฑุณ session
- โ ููุชุฑ ุจุฑ ุงุณุงุณ tenant_key
- โ ุงุณุชูุงุฏู ุงุฒ prepared statements

### 3. UX:
- โ Loading state
- โ Error handling
- โ Toast notifications
- โ Responsive design

---

## ๐ ุฑูุน ูุดฺฉูุงุช ุงุญุชูุงู:

### 1. ูููุฏุงุฑ ููุงุด ุฏุงุฏู ููโุดูุฏ:
- ฺฺฉ ฺฉูุฏ ุฏุงุฏู ุฏุฑ ุฏุชุงุจุณ ูุฌูุฏ ุฏุงุฑุฏ
- Console ุฑุง ุจุฑุง ุฎุทุงูุง ุจุฑุฑุณ ฺฉูุฏ
- Network tab ุฑุง ฺฺฉ ฺฉูุฏ

### 2. ุฎุทุง 401:
- ุฏูุจุงุฑู ูุงฺฏู ฺฉูุฏ
- Cookie ูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ

### 3. ุฎุทุง 500:
- Connection pool ุฑุง ฺฺฉ ฺฉูุฏ
- MySQL ุฑุง ุฑุณุชุงุฑุช ฺฉูุฏ

---

## โจ ูฺฺฏโูุง ุจุฑุฌุณุชู:

1. **ุฏุงุฏู ูุงูุน ุงุฒ ุฏุชุงุจุณ** - ูู mock data
2. **ูููุฏุงุฑูุง ุชุนุงูู** - ุจุง Recharts
3. **ุทุฑุงุญ ูุฏุฑู** - ุจุง Tailwind ู Gradients
4. **Responsive** - ุจุฑุง ููุจุงู ู ุฏุณฺฉุชุงูพ
5. **ูุงุฑุณ ฺฉุงูู** - ุจุง ูููุช Vazir ู ุงุนุฏุงุฏ ูุงุฑุณ
6. **ุนููฺฉุฑุฏ ุจุงูุง** - ุจุง query ูุง ุจููู
7. **ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุนุงู** - ุจุง ุงููุดู ู transitions

---

## ๐ ูุชุฌู:

ฺฉ ุตูุญู ูุงูุชูุฑูฺฏ ุญุฑููโุง ุจุง:
- โ 4 ฺฉุงุฑุช ุขูุงุฑ
- โ 5 ุชุจ ูุฎุชูู
- โ 7 ูููุฏุงุฑ ูุชููุน
- โ ุฏุงุฏู ูุงูุน ุงุฒ ุฏุชุงุจุณ
- โ ุทุฑุงุญ ุฒุจุง ู ูุฏุฑู
- โ ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุนุงู

**ุขูุงุฏู ุงุณุชูุงุฏู ุงุณุช!** ๐
