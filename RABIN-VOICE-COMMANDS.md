# ๐ค ุฏุณุชูุฑุงุช ูุฏุฑุช ุตุฏุง ุฑุงุจู

## ๐ ุฑุงูโุงูุฏุงุฒ ู ุฑโุงุณุชุงุฑุช

### ุฑโุงุณุชุงุฑุช ฺฉุงูู (ุจุง rebuild)
```bash
chmod +x restart-rabin-voice.sh
./restart-rabin-voice.sh
```

ุงู ุงุณฺฉุฑูพุช:
- โ Cache ูุง ุฑุง ูพุงฺฉ ูโฺฉูุฏ
- โ ฺฉุงูุชูุฑ ุฑุง rebuild ูโฺฉูุฏ
- โ ุณุฑูุณ ุฑุง ูุฌุฏุฏุงู ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ
- โ Nginx ุฑุง ุฑโุงุณุชุงุฑุช ูโฺฉูุฏ (ุถุฑูุฑ ุจุฑุง ุฏุงููู)
- โ ูุถุนุช ุณูุงูุช ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ
- โ ุงุชุตุงู ุจู ุฏุงููู ุฑุง ุชุณุช ูโฺฉูุฏ

**ุฒูุงู ุงุฌุฑุง:** 3-5 ุฏููู

### ุฑโุงุณุชุงุฑุช ุณุฑุน (ุจุฏูู rebuild)
```bash
chmod +x quick-restart-rabin-voice.sh
./quick-restart-rabin-voice.sh
```

ุงู ุงุณฺฉุฑูพุช:
- โก ฺฉุงูุชูุฑ rabin-voice ุฑุง ุฑโุงุณุชุงุฑุช ูโฺฉูุฏ
- โก Nginx ุฑุง ุฑโุงุณุชุงุฑุช ูโฺฉูุฏ (ุถุฑูุฑ)
- โก ุงุชุตุงู ุดุจฺฉู ุฑุง ุชุณุช ูโฺฉูุฏ
- โก ุณุฑุนโุชุฑ ุงุฒ rebuild ฺฉุงูู ุงุณุช
- โก ุจุฑุง ุชุบุฑุงุช .env ููุงุณุจ ุงุณุช

**ุฒูุงู ุงุฌุฑุง:** 15-20 ุซุงูู

### ุจุฑุฑุณ ูุถุนุช
```bash
chmod +x status-rabin-voice.sh
./status-rabin-voice.sh
```

ุงู ุงุณฺฉุฑูพุช:
- ๐ ูุถุนุช ฺฉุงูุชูุฑูุง ุฑุง ููุงุด ูโุฏูุฏ
- ๐ฅ ุณูุงูุช ุณุฑูุณโูุง ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ
- ๐ ูพูุฑุชโูุง ุฑุง ฺฺฉ ูโฺฉูุฏ
- ๐ ุงุชุตุงู ุดุจฺฉู ุฏุงุฎู ุฑุง ุชุณุช ูโฺฉูุฏ
- ๐ ุฏุณุชุฑุณ ุงุฒ ุฏุงููู ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ
- ๐พ ุงุณุชูุงุฏู ุงุฒ ููุงุจุน ุฑุง ููุงุด ูโุฏูุฏ

---

## ๐ ูุดุงูุฏู ูุงฺฏโูุง

### ูุดุงูุฏู ูุงฺฏโูุง ุฒูุฏู
```bash
chmod +x logs-rabin-voice.sh
./logs-rabin-voice.sh
```

### ูุดุงูุฏู ูุงฺฏโูุง ุงุฎุฑ (50 ุฎุท)
```bash
docker-compose logs --tail=50 rabin-voice
```

### ูุดุงูุฏู ูุงฺฏโูุง ุฒูุฏู ุจุง docker-compose
```bash
docker-compose logs -f rabin-voice
```

---

## ๐ง ุฏุณุชูุฑุงุช ููุฏ ุฏฺฏุฑ

### ุจุฑุฑุณ ูุถุนุช ฺฉุงูุชูุฑ
```bash
docker-compose ps rabin-voice
```

### ุชููู ุณุฑูุณ
```bash
docker-compose stop rabin-voice
```

### ุดุฑูุน ุณุฑูุณ
```bash
docker-compose start rabin-voice
```

### ุญุฐู ู ุณุงุฎุช ูุฌุฏุฏ
```bash
docker-compose down rabin-voice
docker-compose up -d --build rabin-voice
```

### ูุฑูุฏ ุจู ฺฉุงูุชูุฑ (ุจุฑุง ุฏุจุงฺฏ)
```bash
docker-compose exec rabin-voice sh
```

### ุจุฑุฑุณ ุงุณุชูุงุฏู ุงุฒ ููุงุจุน
```bash
docker stats rabin-voice
```

---

## ๐ ุฏุณุชุฑุณโูุง

- **ูุจ**: https://crm.robintejarat.com/rabin-voice
- **ูพูุฑุช ูุญู**: http://localhost:3001
- **API ููุด ูุตููุน**: https://crm.robintejarat.com/rabin-voice/api/ai
- **API ุชุจุฏู ูุชู ุจู ุตุฏุง**: https://crm.robintejarat.com/rabin-voice/api/tts

---

## โ๏ธ ูฺฉุงุช ููู

### ฺุฑุง ุจุงุฏ Nginx ุฑุง ุฑโุงุณุชุงุฑุช ฺฉููุ

ููุช ฺฉุงูุชูุฑ `rabin-voice` ุฑุง ุฑโุงุณุชุงุฑุช ูโฺฉูุฏ:
1. **IP ุฏุงุฎู ุชุบุฑ ูโฺฉูุฏ**: Docker ููฺฉู ุงุณุช IP ุฌุฏุฏ ุจู ฺฉุงูุชูุฑ ุงุฎุชุตุงุต ุฏูุฏ
2. **ุงุชุตุงู Nginx ูุทุน ูโุดูุฏ**: Nginx ูููุฒ ุจู IP ูุฏู ูุชุตู ุงุณุช
3. **ุฏุงููู ฺฉุงุฑ ููโฺฉูุฏ**: ุฏุฑุฎูุงุณุชโูุง ุจู IP ูุฏู ุงุฑุณุงู ูโุดููุฏ ู ุฎุทุง ูโุฏููุฏ

**ุฑุงู ุญู:** ุฑโุงุณุชุงุฑุช Nginx ุชุง ุงุชุตุงู ุฌุฏุฏ ุจุฑูุฑุงุฑ ุดูุฏ

### ุชูุงูุช ุงุณฺฉุฑูพุชโูุง

| ุงุณฺฉุฑูพุช | ุฒูุงู | Rebuild | Nginx Restart | ฺฉุงุฑุจุฑุฏ |
|---------|------|---------|---------------|--------|
| `restart-rabin-voice.sh` | 3-5 ุฏููู | โ ุจูู | โ ุจูู | ุชุบุฑุงุช ฺฉุฏุ ูุดฺฉูุงุช ุฌุฏ |
| `quick-restart-rabin-voice.sh` | 15-20 ุซุงูู | โ ุฎุฑ | โ ุจูู | ุชุบุฑุงุช .envุ ุฑโุงุณุชุงุฑุช ุณุฑุน |
| `status-rabin-voice.sh` | 5 ุซุงูู | โ ุฎุฑ | โ ุฎุฑ | ุจุฑุฑุณ ูุถุนุช ูุนู |

---

## ๐ ุนุจโุงุจ

### ูุดฺฉู: ุณุฑูุณ ุฑุงูโุงูุฏุงุฒ ููโุดูุฏ
```bash
# ุจุฑุฑุณ ูุงฺฏโูุง
docker-compose logs --tail=100 rabin-voice

# ุจุฑุฑุณ ูุงู .env
cat "ุตุฏุง ุฑุงุจู/.env"

# ุฑโุงุณุชุงุฑุช ฺฉุงูู
./restart-rabin-voice.sh
```

### ูุดฺฉู: ุฎุทุง API ููุด ูุตููุน
```bash
# ุจุฑุฑุณ ฺฉูุฏ API ุฏุฑ .env
grep OPENROUTER_API_KEY "ุตุฏุง ุฑุงุจู/.env"

# ุชุณุช API
curl -X POST https://crm.robintejarat.com/rabin-voice/api/ai \
  -H "Content-Type: application/json" \
  -d '{"userMessage":"ุณูุงู"}'
```

### ูุดฺฉู: ุฎุทุง 502 Bad Gateway
```bash
# ุจุฑุฑุณ ูุถุนุช ฺฉุงูุชูุฑ
docker-compose ps rabin-voice

# ุจุฑุฑุณ ูพูุฑุช
nc -z localhost 3001

# ุฑโุงุณุชุงุฑุช Nginx
docker-compose restart nginx
# ุง
sudo systemctl reload nginx
```

### ูุดฺฉู: ุญุงูุธู ฺฉู
```bash
# ุจุฑุฑุณ ุงุณุชูุงุฏู ุงุฒ ุญุงูุธู
docker stats rabin-voice

# ูพุงฺฉุณุงุฒ cache
cd "ุตุฏุง ุฑุงุจู"
rm -rf .next node_modules/.cache .swc
cd ..

# ุฑโุงุณุชุงุฑุช
./restart-rabin-voice.sh
```

---

## ๐ ูฺฉุงุช ููู

1. **ูุจู ุงุฒ ุฑโุงุณุชุงุฑุช**: ููุดู ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. **ูุงู .env**: ูุทูุฆู ุดูุฏ ฺฉูุฏ API ูุนุชุจุฑ ุงุณุช
3. **ูพูุฑุช 3001**: ุจุงุฏ ุขุฒุงุฏ ุจุงุดุฏ
4. **Nginx**: ุจุงุฏ ุจู ุฏุฑุณุช ุชูุธู ุดุฏู ุจุงุดุฏ
5. **ุญุงูุธู**: ุญุฏุงูู 512MB RAM ูุงุฒ ุงุณุช

---

## ๐ ุงููุช

- ฺฉูุฏ API ุฑุง ุฏุฑ `.env` ูฺฏู ุฏุงุฑุฏ
- `.env` ุฑุง ุฏุฑ `.gitignore` ูุฑุงุฑ ุฏูุฏ
- ุงุฒ HTTPS ุจุฑุง ุฏุณุชุฑุณ ุงุณุชูุงุฏู ฺฉูุฏ
- ูุงฺฏโูุง ุฑุง ุจู ุตูุฑุช ุฏูุฑูโุง ูพุงฺฉ ฺฉูุฏ

---

## ๐ ูพุดุชุจุงู

ุงฺฏุฑ ูุดฺฉู ูุฌูุฏ ุฏุงุฑุฏ:
1. ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. ูุงู `.env` ุฑุง ฺฺฉ ฺฉูุฏ
3. ูุถุนุช ฺฉุงูุชูุฑ ุฑุง ุจุฑุฑุณ ฺฉูุฏ
4. ุงุณฺฉุฑูพุช ุฑโุงุณุชุงุฑุช ฺฉุงูู ุฑุง ุงุฌุฑุง ฺฉูุฏ